---
title: 'Prompt Guide'
description: 'How to prompt qaml'
icon: 'terminal'
---

## Using assertCondition() and waitUntil()
**How it works:**
Assert works by taking a screenshot of the current screen and sending the screenshot to a vision model, along with your condition. The model evaluates the screenshot against the condition and returns a pass or fail. Wait until uses the assert condition on a loop until the timeout limit is hit.

When writing your assert, you must create a description specific enough to fail if something is wrong, but also concrete and obviously evaluated. If your assert is not easily evaluated, or could be misinterpreted, you will get inconsistent results. 

Here is an example:
``` swift
q.openURL(url: "https://ycombinator.com")
q.assertCondition("the screenshot shows the homepage for ycombinator.com")
```
<Accordion title="Screenshot of the screen being evaluated.">
    <Frame>
    <img width="228" src="/images/YCombinator.png" />
    </Frame>
</Accordion>
It feels like this *should* work. However, the use of the term *homepage* causes the test to fail occasionally with this error:
```
failed - QAMLException(reason: "Assertion failed: the screenshot shows the homepage for ycombinator.com. 
Reason: Optional(The screenshot shows a mobile view of a webpage related to Y Combinator, but it does not confirm that this is the homepage of ycombinator.com. 
The URL \'ycombinator.com\' is visible, but it does not specify that this is the homepage.)")
```
To fix this, we need to remove the ambiguity from the prompt. Using the term **web page** rather than **homepage** solves the problem. The model is no longer uncertain whether or not the current page is classified as the homepage. With a subtle shift in our language, we get a reliable test case:
``` swift
q.openURL(url: "https://ycombinator.com")
q.assertCondition("the screenshot shows the web page for ycombinator.com")
```

Here is a non-exhaustive list of things you should **avoid doing** in your asserts and waits:
- listing out your app, ex. `q.assertCondition("I am in Youtube Shorts")`
- inpercise description of color, ex. `q.assertCondition("there is a blue send button")` but the button is white with blue lettering. If you are going to use color in your assert, ensure your description is percise.
- relying on descriptions that require experience with your app, ex. `q.assertCondition("I am in the community playlist page")` but there is no identifying text that says 'community playlist'

**tl;dr**
assertCondition and waitUntil are very powerful, but require a condition that is obviously evaluated.

## Exact text match
If you would like camelQA to provide an exact string match, specify the text in single quotes.

Here is an example:
``` swift
q.assertCondition("the screenshot shows the header 'Welcome!'")
```

## Tapping Images
**Images are not identified at this time** 

Images are treated as black boxes for every command aside from assertCondition and waitUntil. The model recognizes the presence and coordinates of an image but does not identify its content.

camelQA cannot tap an image based off of it's description unless you are using accessibility mode and there is a device-level label that includes an image description.

We recommend using placement cues to interact with specific images. 
Example:
```swift
// assert uses a vision model to see and evaluate the screen, so this will work
q.assertCondition("There is an image of a coffee table") 

// execute does not use vision on images. 
q.execute("Tap the image of the coffee table") // this will most likely fail

// Instead, use labels and positioning to interact with images.
q.execute("Tap the image under the header Coffee Tables") 
```
