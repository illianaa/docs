---
title: 'API Reference'
description: 'Python library API reference'
icon: 'gear-code'
---

# Client
To Initialize a python client for camelQA, you must pass in an API key and optional parameters. Note that parameters differ based on implementation.

<Tabs>
    <Tab title="iOS">
        ```swift
        // Set the bundle ID of the app you'd like to test
        let app = XCUIApplication(bundleIdentifier: "com.toyopagroup.picaboo")
        app.launch()

        let q = QamlClient(
            apiKey: "<API_KEY>", 
            app: "<APP_INSTANCE>", 
            useAccessibilityElements: <BOOL, default = true>
        )
        ```

        #### app
        This is the [bundleID](https://offcornerdev.com/bundleid.html) of the app you'd like to launch. **Note** you can still switch between apps by using switchToApp or openURL.

        #### useAccessibilityElements
        Tests executed in XCUITest can utilize accessibility labels. Setting this to true leverages accessibility and setting this to false disables the feature. 
    </Tab>


    <Tab title="Android">
        <CodeGroup>
        ```java Java
            @Test
            public void newTest() {
                Client q = new Client("<APIKey>");
            }
        ```
        ```kotlin Kotlin
            @Test
            fun newTest() {
                val q = QamlClient(apiKey = "<APIKey>")
            }
        ```
        </CodeGroup>

        There are no additional fields for the Android client at this time.
    </Tab>


    <Tab title="Appium">
        ```python
        q = qaml.Client(
            api_key="<API_KEY>", 
            driver=optional_appium_driver, #optional
            use_mjpeg=optional_boolean, #optional, default=True
            use_hid_typing=optional_boolean #optional, default=False
        )
        ```

        #### driver
        This is the Appium driver instance you can use to specify your UDID for your device or simulator. This can also be used to connect to a device farm.

        Tip:
        ```bash
        xcrun simctl list devices | grep 'Booted'
        ```
        This command gives you a list of UDIDs of all simulators currently running.

        #### use_mjpeg
        This flag tells qaml to use `mjpeg_consumer` if it is installed. This will speed up the time it takes to capture a screenshot, but is slightly resource intensive. If you have issues, try turning setting this to False.

        #### use_hid_typing
        This is an experimental feature to extend typing compatibility. This is for apps where typing is not supported by Appium. This flag simulates a USB keyboard. This is slow and only works with latin characters and numbers.

        Please let us know in our Discord how this feature works for your app.
    </Tab>
</Tabs>

# Actions

## execute

This is the main way you interact with qaml. Give a natural language command and it will execute the command. 

<CodeGroup>
    ```swift iOS
    q.execute("swipe down")
    q.execute("tap the search bar")
    ```



    ```kotlin Kotlin
    q.execute("swipe up")
    q.execute("tap the search bar")
    
    ```
    ```java Java
    q.execute("swipe up");
    q.execute("tap the search bar");
    
    ```


    ```python Appium
    q.execute("swipe up")
    q.execute("swipe down")
    ```
</CodeGroup>
    
Nothing is returned. A `QAMLExecException` will be thrown if it is unable to execute the command.

## assertCondition
This is how you tell qaml to verify something without taking any action. `assert_condition` takes a screenshot of the current screen and runs it through GPT-4o against your prompt and returns a pass or fail.

<CodeGroup>
    ```swift iOS
    q.execute("type camelqa.com")
    q.assert_condition("camelqa.com is shown")
    q.execute("tap go")
    q.assert_condition("loading screen is shown")
    ```



    ```kotlin Kotlin
    q.execute("type camelqa.com")
    q.assert_condition("camelqa.com is shown")
    q.execute("tap go")
    q.assert_condition("loading screen is shown")
    
    ```
    ```java Java
    q.execute("type camelqa.com");
    q.assert_condition("camelqa.com is shown");
    q.execute("tap go");
    q.assert_condition("loading screen is shown");
    
    ```


    ```python Appium
    q.execute("type camelqa.com")
    q.assert_condition("camelqa.com is shown")
    q.execute("tap go")
    q.assert_condition("loading screen is shown")
    ```
</CodeGroup>

Nothing is returned. A `QAMLExecException` will be thrown if the condition is not met.

## waitUntil
This calls `assert_condition` on a loop. This is how you tell qaml to wait until an event occurs (ex. screen has completed loading). 

`waitUntil` takes a screenshot of the current screen and runs it through GPT-4o against your prompt and returns a pass or fail until the condition is met or timeout occurs.

<CodeGroup>
    ```swift iOS
    q.waitUntil(
        condition: <String>, 
        timeout: <TimeInterval> // optional, specify in seconds, default is 10 seconds
    )

    // example:
    q.waitUntil("Results page has completed loading", timeout: 20)
    ```

    ```kotlin Kotlin
    q.waitUntil(
        condition: <String>, 
        timeout: <TimeInterval> // optional, specify in seconds, default is 10 seconds
    )

    // example:
    q.waitUntil("Results page has completed loading", timeout: 20.0)
    
    ```
    ```java Java
    q.waitUntil(
        condition: <String>, 
        timeout: <TimeInterval> // optional, specify in seconds, default is 10 seconds
    );

    // example:
    q.waitUntil("Results page has completed loading", timeout: 20.0);
    
    ```
    
    ```python Appium
    # not supported in python at this time
    ```
</CodeGroup>

## systemPrompt
This appends information to the qaml system prompt. Use this to specify details about your app. 

<CodeGroup>
    ```swift iOS
    q.systemPrompt = "Never scroll down, even if the user asks for it."
    ```

    ```kotlin Kotlin
    q.systemPrompt = "reverse the direction of all scrolls"

    ```
    ```java Java
    q.setSystemPrompt("reverse the direction of all scrolls");

    ```

    ```python Appium
    q.system_prompt = "Never scroll down, even if the user asks for it."
    ```
</CodeGroup>

## autoDelay
This adds a delay between each command. Use this if your app has long animations or you want to add a delay between each action. 

autoDelay **only affects the code after the statement**. This means you can switch this value throughout your test script.

Note, this is purely additive. This does not guarantee that the delay between each step will be exactly the time specified; it simply ensures that there will be a time delay before an action begins.

<CodeGroup>
    ```swift iOS
    q.autoDelay = <TimeInterval> // specify in seconds

    // example:
    q.autoDelay = 20
    ```

    ```kotlin Kotlin
    q.autoDelay = <TimeInterval> // specify in seconds

    // example:
    q.autoDelay = 20
    ```
    ```java Java
    q.setAutoDelay(<TimeInterval>); // specify in seconds

    // example:
    q.autoDelay(20);

    ```

    ```python Appium
    # not supported at this time
    ```
</CodeGroup>

## switchToApp
This is how to switch between apps. For iOS, use the [bundleID](https://offcornerdev.com/bundleid.html). For Android, use the [package ID](https://support.google.com/admob/answer/9972781?hl=en#:~:text=You%20can%20find%20an%20app's,id%3Dcom.).

<Warning>Note: for iOS, you must switch to an app using this function in order to interact with that app.</Warning>

<CodeGroup>
    ```swift iOS
    q.switchToApp(bundleId: "com.apple.mobilesafari")
    ```
    ```kotlin Kotlin
    q.switchToApp(packageName = "com.google.android.youtube")
    
    ```
    ```java Java
    q.switchToApp(packageName = "com.google.android.youtube");
    
    ```
    ```python Appium
    # use bundleID or package
    q.switch_to_app("com.apple.mobilesafari")
    ```
</CodeGroup>

## launchApp
This is how to hard launch apps. This will kill the app and restart it. For iOS, use the [bundleID](https://offcornerdev.com/bundleid.html). For Android, use the [package ID](https://support.google.com/admob/answer/9972781?hl=en#:~:text=You%20can%20find%20an%20app's,id%3Dcom.).



<CodeGroup>
    ```swift iOS
    q.launchApp(bundleId: "com.apple.mobilesafari")
    ```

    ```kotlin Kotlin
    q.launchApp(packageName = "com.google.android.youtube")
    
    ```
    ```java Java
    q.launchApp(packageName = "com.google.android.youtube");
    
    ```
    ```python Appium
    # not supported at this time
    ```
</CodeGroup>

## openURL 
This is how to open a specific URL. Be sure to include `https://` in your URL.

<Warning>Note: Requires XCode 14.3 and higher </Warning>

<CodeGroup>
    ```swift iOS
    // in order to interact with the URL, you must launch the web browser or use q.switchToApp()
    let app = XCUIApplication(bundleIdentifier: "com.apple.mobilesafari")
    app.launch()

    q.openURL(url: "https://en.m.wikipedia.org/wiki/Artificial_intelligence")
    
    ```

    ```kotlin Kotlin
    q.openURL("https://google.com")
    
    ```
    ```java Java
    q.openURL("https://google.com");
    
    ```

    ```python Appium
    # not supported in python at this time
    ```
</CodeGroup>

